{{ define "main" }}
<!-- Hero Section -->
<section class="mb-12 md:mb-16">
  <div class="rounded-lg p-8 md:p-12 border border-border">
    <h1 class="text-4xl md:text-5xl font-bold mb-4 text-foreground inline-block">
      {{ .Site.Params.home.title | default "Welcome to Hugo Paper" }}
    </h1>
    {{- /* RSS Feed Link - 参考 astro-paper/src/pages/index.astro */ -}}
    {{- with .OutputFormats.Get "rss" -}}
    <a
      href="{{ .RelPermalink }}"
      target="_blank"
      rel="noopener noreferrer"
      title="RSS Feed"
      aria-label="rss feed"
      class="inline-block"
    >
      <svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        class="scale-125 stroke-accent stroke-3 rtl:-rotate-90"
      >
        <path
          d="M5 3a1 1 0 011-1h8a1 1 0 011 1v8a6 6 0 11-6 6v-8z"
          stroke="currentColor"
          stroke-width="3"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
      <span class="sr-only">RSS Feed</span>
    </a>
    {{- end -}}
    <p class="text-lg md:text-xl text-muted mb-6 max-w-2xl">
      {{ .Site.Params.home.subtitle | default "A minimal, fast, and responsive Hugo theme" }}
    </p>
    
    {{- /* 社交链接 - 参考 astro-paper/src/pages/index.astro */ -}}
    {{- if .Site.Params.social -}}
    <div class="mt-4 flex flex-col sm:flex-row sm:items-center mb-6">
      <div class="me-2 mb-1 whitespace-nowrap sm:mb-0">Social Links:</div>
      {{ partial "socials.html" . }}
    </div>
    {{- end -}}
    
    <div class="flex gap-4">
      <a href="/archives/" class="inline-block px-4 py-2 bg-accent text-background rounded-lg font-medium transition-colors duration-200 hover:bg-accent/80">Read Articles</a>
      <a href="/about/" class="inline-block px-4 py-2 bg-muted text-foreground rounded-lg font-medium transition-colors duration-200 hover:bg-accent">Learn More</a>
    </div>
  </div>
</section>

<!-- Featured Posts -->
{{ $featured := where .Site.RegularPages "Params.featured" true }} {{ if and (gt
(len $featured) 0) .Site.Params.home.featuredPostCount }}
<section class="mb-12 md:mb-16">
  <h2 class="text-3xl font-bold mb-8">Featured Articles</h2>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    {{ range first (.Site.Params.home.featuredPostCount | default 2) $featured
    }} {{ partial "post-card.html" . }} {{ end }}
  </div>
</section>
{{ end }}

<!-- Recent Posts -->
{{ $recent := where .Site.RegularPages "Type" "post" }} {{ if gt (len $recent) 0
}}
<section>
  <div class="flex items-center justify-between mb-8">
    <h2 class="text-3xl font-bold">Recent Articles</h2>
    <a
      href="/archives/"
      class="text-accent hover:text-accent/80 transition-colors"
    >
      View all →
    </a>
  </div>
  <div class="grid grid-cols-1 gap-6">
    {{ range first (.Site.Params.home.recentPostCount | default 5) $recent }} {{
    if ne .File.BaseFileName "_index" }} {{ partial "post-list-item.html" . }}
    {{ end }} {{ end }}
  </div>
</section>
{{ end }} {{ end }}
